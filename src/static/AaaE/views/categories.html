<div ng-controller="CategoriesController" layout-xs="column" layout-gt-xs="row" layout-wrap>
	
	<!-- loading spinner -->
    <div ng-if="loading" class="loading-bg-base">
        <div class="loader-lg">
			<svg class="circular2">
			<circle class="path" cx="125" cy="125" r="40" fill="none" stroke-width="4" 
			    stroke-miterlimit="10"/>
			</svg>
        	<div class="loading-text">Loading...</span></div>
        </div>
    </div>


	<div flex-xs="100" flex-gt-xs="50" ng-repeat="category in categories | orderBy: 'avg_popularity': true">
		<md-card ng-click="selectCategory(category)">
			<md-card-title>
				<md-card-title-text>
					<h3>{{ category.name }}</h3>
				</md-card-title-text>
			</md-card-title>
			<md-card-content>
				
				<!-- <md-grid-list md-cols="5" md-row-height="1:1" md-gutter="1px">
					<md-grid-tile ng-repeat="im in category.images">
						<img ng-src="/media/{{ im | thumbnail:125 }}" 
							class="thumbnail thumbnail-tiny" />
					</md-grid-tile>
				</md-grid-list> -->
				
				<img ng-src="/media/{{ im | thumbnail:125 }}" 
					class="thumbnail thumbnail-tiny pull-left" 
					ng-repeat="im in category.images" />
				
			</md-card-content>
		</md-card>
	</div>

</div>